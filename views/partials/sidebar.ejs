<% const base = typeof basePath !== 'undefined' ? basePath : '/admin'; %>
<% const isDiretor = base === '/diretor'; %>

<style>
  /* Ajuste de cores por papel (admin = azul, diretor = roxo) */
  .app-sidebar { max-width: 380px; }
  .app-sidebar { --brand-color: <%= isDiretor ? '#6f42c1' : '#0d6efd' %>; --brand-color-rgba: <%= isDiretor ? 'rgba(111,66,193,0.08)' : 'rgba(13,110,253,0.08)' %>; --brand-color-light: <%= isDiretor ? 'rgba(111,66,193,0.12)' : 'linear-gradient(90deg, rgba(13,110,253,0.12), rgba(13,110,253,0.06))' %>; }
  .app-sidebar .list-group-item { border: 0; padding: .65rem .9rem; display: flex; align-items: center; gap: .75rem; transition: background .12s ease, transform .08s ease; color: #333; }
  .app-sidebar .list-group-item .icon { width: 1.25rem; height: 1.25rem; display: inline-flex; align-items: center; justify-content: center; flex: 0 0 1.25rem; color: inherit; }
  .app-sidebar .list-group-item:hover { background: var(--brand-color-rgba); transform: translateX(4px); color: var(--brand-color); }
  .app-sidebar .list-group-item.logout-item { color: #dc3545; }
  .app-sidebar .list-group-item.logout-item:hover { background: rgba(220,53,69,0.06); transform: translateX(4px); color: #dc3545; }
  .app-sidebar .list-group-item.active, .app-sidebar .list-group-item.active:hover {
    background: <%= isDiretor ? 'linear-gradient(90deg, rgba(111,66,193,0.12), rgba(111,66,193,0.06))' : 'linear-gradient(90deg, rgba(13,110,253,0.12), rgba(13,110,253,0.06))' %>;
    border-left: 4px solid <%= isDiretor ? '#6f42c1' : '#0d6efd' %>;
    color: <%= isDiretor ? '#6f42c1' : '#0d6efd' %>;
    font-weight: 600;
  }
  .app-sidebar .brand { padding: .75rem .9rem; border-bottom: 1px solid rgba(0,0,0,0.05); display:flex; align-items:center; gap:.6rem; font-weight:700; }
  .app-sidebar .brand .logo { width:28px; height:28px; display:inline-flex; align-items:center; justify-content:center; border-radius:6px; background: <%= isDiretor ? '#6f42c1' : '#0d6efd' %>; color:white; font-size:0.9rem; }
</style>

<div class="card app-sidebar">
  <div class="brand">
    <span class="logo">LU</span>
    <span>Agendamento de Salas - Universidade</span>
  </div>

  <div class="card-body p-0">
    <div class="list-group list-group-flush">
      <a href="<%= base %>/dashboard" class="list-group-item list-group-item-action <%= active === 'reservas' ? 'active' : '' %>">
        <span class="icon" aria-hidden="true"><i class="bi bi-calendar-check" style="font-size:1.05rem"></i></span>
        <span>Reservas</span>
      </a>

      <a href="<%= base %>/perfil" class="list-group-item list-group-item-action <%= active === 'perfil' ? 'active' : '' %>">
        <span class="icon" aria-hidden="true"><i class="bi bi-person" style="font-size:1.05rem"></i></span>
        <span>Perfil</span>
      </a>

      <% if (isDiretor) { %>
        <a href="/diretor/local/" class="list-group-item list-group-item-action <%= active === 'local' ? 'active' : '' %>">
          <span class="icon" aria-hidden="true"><i class="bi bi-geo-alt" style="font-size:1.05rem"></i></span>
          <span>Locais</span>
        </a>
      <% } %>

      <a href="/logout" class="list-group-item list-group-item-action logout-item">
        <span class="icon" aria-hidden="true"><i class="bi bi-box-arrow-right" style="font-size:1.05rem"></i></span>
        <span class="fw-medium">Logout</span>
      </a>
    </div>
  </div>
</div>